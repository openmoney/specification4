<html>

<head>

<title>openmoney software specification</title>

  <style type="text/css">

    body, div, p, h1, h2, h3, a, li { font-family: Lucida Grande,Verdana,Helvetica,Arial,sans-serif; }
    body { font-size: 14px; }

    .footnote { font-size: 12px; }

    .deleted { color: #000080; text-decoration: line-through; }
    .added { color: #800000; }
    .moved { color: #600060; }

    td { font-size: 14px; background: #E0F0E0; }
    td.col-label { color: #006000; font-weight: bold; background: #A0D0A0; }
    td.row-label { color: #006000; font-weight: bold; background: #A0D0A0; }
    td.row-notes { color: #006000; bold; background: #A0D0A0; font-size: 12px; }
    td.blank { font-size: 12px; background: #FFFFFF; }

    a { text-decoration:none; }
    a:link { color:#006000; }
    a:visited { color:#106010; }
    a:active { color:#008000; }
    a:hover { color:#209020; }

    h1 { font-size: 26px; font-weight: bold; color: #004000; background-color: #A0D0A0;
         padding-top: 4px; padding-left: 8px; padding-bottom: 6px; }
    h2 { font-size: 22px; font-weight: bold; color: #006000; }
    h3 { font-size: 18px; font-weight: bold; color: #008000; }
    h4 { font-size: 14px; font-weight: bold; color: #005000; }
    p { margin-bottom: 0; }
    ul { margin-top: 0; }

    img { display: block; }
    img.wrap { max-width: 70%; margin: 30px 0px; }
    img.align-right-middle { float:right; padding:30px; vertical-valign:middle; }
    img.align-left { float:left; padding:20px; text-align:left; }
    img.align-left-middle { float:left; padding:30px; vertical-valign:middle; }

    hr { border: 0; border-top: 1px solid #8c8c8c; border-bottom: 1px solid #fff; }

  </style>

</head>

<body>

<h1>openmoney software specification</h1>

<h3>Introduction</h3>

<p>The term <em>open money</em> (two words, lower case) is an aspect of free speech - it is a context (see <a href="https://sites.google.com/site/economicgroups/neweconomy">REA</a>), and <em>open money</em> can be called <u>free</u> money (as in <em>free speech</em>, not as in free beer/lunch/load/ride).</p>

<p>The term <em>openmoney</em> (one word, lower case) refers to <u>any</u> software able to support the requirements of an <em>open money</em> implementation, operating in accordance with the principles and intellectual properties of the <a href="http://letsystem.org/">LETSystem Trust</a>.</p>

<p>For background information and history, see the <a href="https://openmoney.github.io/openmoney-links/">collected links</a> page.</p>

<p>An <a href="https://github.com/openmoney/">openmoney</a> implementation is already freely available on line for test and demonstration purposes, and more will follow.</p>

<p>NB, <em>open money</em> is a special case of a broader concept: <em>open metrics</em>. The specification below generally applies to <em>open metrics</em> implementations as well.</p>

<p>The following is a minimal specification of the way in which any software supporting <em>open money</em> should operate.</p>

<p class="added"><u>Note</u>: Although originally designed to support user-centred ledger systems (LETSystem model), a sufficiently secure implementation of software conforming to this specification could be be used as the ledger system underpinning <u>any ledger-based</u> service, including mutual credit services (such as <em>LETSystems</em>), loan-providing services (such as credit unions and CDFIs), energy-accounting systems, time banks or any other conceivable system recording events associated with resources and agents.</p>

<p class="added">The <em>openmoney</em> component is not intended to be complete and self-contained. Metasystemic components, whether technological, social or organizational, are required for any such tools to operate. Adaptive, resilient, co-evolving systems necessarily involve layers and appropriate extensions, with structure reviewed continually. The <em>openmoney</em> component is intended only to provide a recursively-nested ledge structure for REA accounting upon which much richer structures can be built.</p>

<br />

<hr />

<ul>

<li><p><strong>Terminology</strong>: Since every <em><a href="#users">user</a></em> of an <em>openmoney</em> software has the potentiality to be a <em><a href="#stewards">steward</a></em>, no distinction was made between these terms in earlier versions of this document. For the same reasons, the <a href="https://github.com/openmoney/current-implementation/">testing/demonstration implementation</a> of the software treats all users with a login accounts as <em><a href="#stewards">stewards</a></em>.</p></li>

<li><p><strong>Pronouns</strong>: Since a <em><a href="#users">user</a></em> may be a person or an organization, or possibly a machine, the gender-neutral <em>it</em> and <em>its</em> are used below.</p></li>

</ul>

<hr />

<p class="added">
  <u>Note</u>: <em>There is no obvious natural sequence in which the terms in this section can be defined. Most terms refer forward or back to other terms in the section.</em>
</p>

<a name="registries"></a>
<h3 class="added">registry</h3>

<ul class="added">
  <li>
    <p>A <em><a href="#registries">registry</a></em> is an instance of any <em>openmoney</em>-compliant software with/in which a <em><a href="#users">user</a></em>'s <em>primary identity</em> can be registered.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#namespaces">namespace</a></em> enclosing all <em><a href="#namespaces">namespaces</a></em> associated directly with <em><a href="#users">users</a></em> with <em>primary identities</em> registered in that <em><a href="#registries">registry</a></em> is its <em>registry namespace</em>.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#users">user</a></em> may have any number of <em>secondary identities</em> in any permitted/accessible <em><a href="#namespaces">namespace</a></em>, whether or not that lies within the same <em>registry namespace</em>.
    </p>
  </li>
</ul>

<a name="users"></a>
<h3>users</h3>

<ul>
  <li>
    <p>
      A registered <em><a href="#users">user</a></em> of any <em>openmoney</em> software can be any person or organization of persons that <u>recognizes</u> and <u>accepts responsibility</u> for:
      <ul>
        <li>
          <u>accounting of events</u>
        </li>
        <li>
          <u>fulfilment of promises</u> (commitments)
        </li>
      </ul>
    </p>
    <p>
      To use <em>open money</em> is to mind your own business.
    </p>
  </li>
  <li>
    <p>
      Every <em><a href="#users">user</a></em> has a <em>username</em>, and a public key.
    </p>
    <p>
      (In the current <a href="https://github.com/openmoney/current-implementation/">test/development implementation</a> the <em><a href="#users">user</a></em> logs in using a password instead.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#users">user</a></em> may optionally provide an email address and choose its notification settings.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#users">user</a></em> uses its <em>username</em> and private key to authenticate.
    </p>
  </li>
  <li>
    <p>
      The <em>openmoney</em> implementation may make provision for the <em><a href="#users">user</a></em>'s public and private key to be generated deterministically using its <em>name</em> and password.
    </p>
  </li>
  <li>
    <p>
      When a <em><a href="#users">user</a></em> registers, it is given a private <em><a href="#namespaces">namespace</a></em> with the <em><a href="#namespaces">namespace</a></em> name "<em>username</em>" as a child of the one of the <em>root namespace</em> available.
    </p>
    <p>
      (In the <a href="https://github.com/openmoney/current-implementation/">current demonstration/test implementation</a>, the only <em>root namespace</em> available is fixed as "cc" so every <em><a href="#users">user</a></em> is given the <em><a href="#namespaces">namespace</a></em> "<em>username.cc</em>" upon registration.)
    </p>
  </li>
  <li>
    <p>
      Once registered, a <em><a href="#users">user</a></em> may join any number of <em><a href="#namespaces">namespaces</a></em> (subject to the permission if those <em><a href="#namespaces">namespace</a></em>s' <em><a href="#stewards">stewards</a></em>) under any <em>name</em> not already used within that <em><a href="#namespaces">namespace</a></em>.
    </p>
  </li>
</ul>

<a name="stewards"></a>
<h3>stewards</h3>

<ul>
  <li>
    <p>
      A <em><a href="#users">user</a></em> with responsibility for a <em><a href="#namespaces">namespace</a></em> is referred to as a <em><a href="#stewards">steward</a></em> <u>of</u> that <em><a href="#namespaces">namespace</a></em> or, alternatively, as a <em>governor</em> or <em>governing steward</em> of that <em><a href="#namespaces">namespace</a></em>.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#users">user</a></em> with responsibility for a <em><a href="#currencies">currency</a></em> is referred to as a <em><a href="#stewards">steward</a></em> <u>of</u> that <em><a href="#currencies">currency</a></em> or, alternatively, as a <em>governor</em> or <em>governing steward</em> of that <em><a href="#currencies">currency</a>
      </em>.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#users">user</a></em> with responsibility for an <em><a href="#accounts">account</a></em> is referred to as a <em><a href="#stewards">steward</a></em> of that <em><a href="#accounts">account</a></em>.
    </p>
    <p>
      The <em><a href="#stewards">steward</a></em> of a <em><a href="#namespaces">namespaces</a></em> has unconditional privileges over that <em><a href="#namespaces">namespace</a></em> and any <em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em>, <em><a href="#accounts">accounts</a></em> and <em><a href="#users">users</a></em> within it.
    </p>
    <p>
      Within a <em>(parent) namespace</em> a <em><a href="#users">user</a></em> is authorized only to create <em>names</em> (<em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em> and <em><a href="#accounts">accounts</a></em>), of which it is the <em><a href="#stewards">steward</a></em>, and these persist only as long as authorized by the <em><a href="#stewards">stewards</a></em> (<em>governors</em>) of the <em>(parent) namespace</em>.
    </p>
  </li>
</ul>

<a name="namespaces"></a>
<h3>namespaces</h3>

<h4>namespaces enclosed entirely within one registry namespace</h4>

<p>
  This section refers only to <em><a href="#namespaces">namespaces</a></em> enclosed within the same <em>registry namespace</em>.
</p>

<ul>
  <li>
    <p>
      Every <em><a href="#namespaces">namespace</a></em> is managed (controlled) by a set of one or more <em><a href="#stewards">steward</a></em>(s).
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#namespaces">namespace</a></em> is an enclosure.
    </p>
  </li>
  <li>
    <p>
      Every <em><a href="#namespaces">namespace</a></em> can enclose other <em><a href="#namespaces">namespaces</a></em>.
    </p>
  </li>
  <li>
    <p>
      Every <em><a href="#namespaces">namespace</a></em> can also enclose a set of <em><a href="#currencies">currencies</a></em> or <em><a href="#accounts">accounts</a></em> under the control of that <em><a href="#namespaces">namespace</a></em>'s <em>governing stewards</em>(s) - i.e.
      <ul>
        <li>
          <em><a href="#currencies">currency</a></em> parameters are declared by that/those <em>governing stewards</em>(s)
        </li>
        <li>
          access/usage terms are set by that/those <em>governing stewards</em>(s)
        </li>
      </ul>
    </p>
  </li>
  <li>
    <p>
      Each <em><a href="#namespaces">namespace</a></em> is identified by a string divided into substrings (<em>namespace names</em>, in each case a lower case letter followed by a string of arbitrary length containing any combinatation of lower case letters, digits, "_" or "-") separated by the character ".". Therefore, with the exception of the <em>root namespace</em>, each <em><a href="#namespaces">namespace</a></em> comprises at least two parts - <em>child.parent</em> - where the latter identified by its full ancestry "path" back to the <em>root namespace</em>) and is therefore globally unique [note 1]. For example, the following examples represent two different <em><a href="#namespaces">namespaces</a></em>:<br />
      &nbsp;&nbsp;<em>berkshire.england.uk.europe</em><br />
      &nbsp;&nbsp;<em>berkshire.massachussets.usa.north.america</em><br />
      where both have the same <em>namespace name</em> at the start of the string but each has a different <em>parent namespace</em>.
    </p>
  </li>
  <li>
    <p>
      Every <em>governing steward</em> of a <em><a href="#namespaces">namespace</a></em> is notified when any of its other <em><a href="#stewards">stewards</a></em> creates a child <em><a href="#namespaces">namespace</a></em>, <em><a href="#currencies">currency</a></em> or <em><a href="#accounts">account</a></em> there.
    </p>
  </li>
  <li>
    <p>
      Every <em>governing steward</em> of a <em><a href="#namespaces">namespace</a></em> has the ability to <u>enable</u> or <u>disable</u> any of its child <em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em> or <em><a href="#accounts">accounts</a></em>.
    </p>
  </li>
  <li>
    <p>
      Every <em><a href="#stewards">steward</a></em> of a <em><a href="#namespaces">namespace</a></em> has the ability to <u>close</u> child <em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em> or <em><a href="#accounts">accounts</a></em> in their <em><a href="#namespaces">namespace</a></em> and then <u>create</u> their continuations (<em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em> or <em><a href="#accounts">accounts</a></em> having exactly the same properties and values) in another (accessible) <em><a href="#namespaces">namespace</a></em>. This is, in effect, equivalent to moving these safely in a way which does not lead to confusing inconsistencies in the <em><a href="#journals">journal</a></em> entries.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#namespaces">namespace</a></em> can be <u>public</u> or <u>private</u>:
      <ul>
        <li>
          When created, a child <em><a href="#namespaces">namespace</a></em>, <em><a href="#currencies">currency</a></em> or <em><a href="#accounts">account</a></em> of a <u>public</u> <em><a href="#namespaces">namespace</a></em> is <u>disabled by default</u>.
        </li>
        <li>
          A child <em><a href="#namespaces">namespace</a></em>, <em><a href="#currencies">currency</a></em> or <em><a href="#accounts">account</a></em> of a <u>private</u> <em><a href="#namespaces">namespace</a></em> is <u>disabled by default</u> and <u>cannot be enabled</u> until the <em>parent namespace</em> has been enabled.
        </li>
      </ul>
    </p>
  </li>
</ul>

<span class="added">

<h4>extending namespaces beyond a single registry namespace</h4>

<ul>
  <li>
    <p>
      Any <em>registry namespace</em> can be enclosed within any <em>namepace</em> embedded within another <em>registry namespace</em>.
    </p>
    <p>
      For example, a <em>namspace</em> identified by the string <strong>newtown.powys.wales</strong> (where <strong>wales</strong> is the root <em><a href="#namespaces">namespace</a></em> of the <em><a href="#registries">registry</a></em> in which it is defined) can be embedded into an existing namespace <strong>uk.europe.earth</strong> in a separate <em><a href="#registries">registry</a></em> (subject to the permission of the governing <em><a href="#stewards">stewards</a></em> of that <em><a href="#registries">registry</a></em>, and only if the <em>terminal namespace</em> <strong>wales</strong> has not already been placed there from within a different <em>registry namespace</em>). In this case, the <em><a href="#namespaces">namespace</a></em> <strong>newtown.powys.wales</strong> could now also be identified by the string <strong>newtown.powys.wales.uk.europe.earth</strong>.
    </p>
  </li>
  <li>
    <p>
      A <em>namepace</em>
    </p>
  </li>
</ul>

</span>

<a name="currencies"></a>
<h3>currencies</h3>

<ul>
  <li>
    <p> A <em><a href="#currencies">currency</a></em> has a <em>currency name</em>, a <em>parent namespace</em>, and a set of zero or more <em>governing stewards</em>.
    </p>
  </li>
  <li>
    <p>
      Every <em>governing steward</em> of a <em><a href="#currencies">currency</a></em> is notified whenever any <em><a href="#stewards">steward</a></em> creates an account that uses this <em><a href="#currencies">currency</a></em>.
    </p>
  </li>
  <li>
    <p>
      Every <em>governing steward</em> of a <em><a href="#currencies">currency</a></em> has the ability to enable or disable <em><a href="#accounts">accounts</a></em> used by this <em><a href="#currencies">currency</a></em>.
    </p>
  </li>
  <li>
    <p>
      Every <em>governing steward</em> of a <em><a href="#currencies">currency</a></em> gets a copy of all journal entries that use that <em><a href="#currencies">currency</a></em>.
    </p>
  </li>
  <li>
    <p>
      A <em><a href="#currencies">currency</a></em> can be <em>public</em> or <em>private</em>:
      <ul>
        <li>
          an <em><a href="#accounts">account</a></em> created to use a <em><u>public</u> currency</em> is <u>enabled by default</u>.
        </li>
        <li>
          an <em><a href="#accounts">account</a></em> created to use a <em><u>private</u> currency</em> is <u>disabled by default</u>.
        </li>
      </ul>
    </li>
  </li>
</ul>

<a name="accounts"></a>
<h3>accounts</h3>

<ul>
  <li>
    <p>
      An <em><a href="#accounts">account</a></em> has an <em>account name</em>, an <em>account parent namespace</em>, a <em><a href="#currencies">currency</a></em>, a <em>currency parent namespace</em> and a set of <em>governing stewards</em>.
    </p>
  </li>
  <li>
    <p>
      Account <em><a href="#stewards">stewards</a></em> post <em>journal <u>entries</u></em> from one <em><a href="#accounts">account</a></em> to another <em><a href="#accounts">account</a></em> in the same <em><a href="#currencies">currency</a></em>.
    </p>
  </li>
</ul>

<a name="journals"></a>
<h3>journals</h3>

<ul>
  <li>
    <p>A <em>journal entry</em> containing
      <ul>
        <li>a <em><u>to</u> account name</em></li>
        <li>a <em><u>to</u> account namespace</em></li>
        <li>a <em><u>from</u> account name</em></li>
        <li>a <em><u>from</u> account namespace</em></li>
        <li>a <em>currency name</em></li>
        <li>a <em>currency namespace</em></li>
        <li>an <em>amount</em></li>
      </ul>
      is sent from the client to the server.
    </p>
    <p>
      <u>If</u> the server is able to verify that the <em><a href="#namespaces">namespaces</a></em>, <em><a href="#currencies">currencies</a></em> and <em><a href="#accounts">accounts</a></em> specified in the <em>journal entry</em> are all enabled, <u>then</u>:
      <ul>
        <li>
          the <em>journal entry</em> is encrypted using the public keys belonging to the <em><u>to</u> account</em>'s <em><a href="#stewards">steward</a></em>, the <em><u>from</u> account</em>'s <em><a href="#stewards">steward</a></em> and <em><a href="#currencies">currency</a></em>'s <em>governing steward</em>;
        </li>
        <li>
          the encrypted <em>journal entry</em> is stored on the server for their retrieval;
        </li>
        <li>
          the <em><a href="#stewards">stewards</a></em> are notified (according to their configured preferences); and
        </li>
        <li>
          a <u>success response code</u> is returned to the client.
        </li>
      </ul>
      <u>otherwise</u>:
      <ul>
        <li>
          an <u>error response code</u> is returned to the client indicating where the point of failure lies (in most cases where an <em><a href="#accounts">accounts</a></em>, <em><a href="#currencies">currency</a></em> or <em><a href="#namespaces">namespaces</a></em> is disabled or nonexistent).
        </li>
      </ul>
    </p>
  </li>
  <li>
    <p>A <em>governing steward</em> of an <em><a href="#accounts">account</a></em> can request a list of all <em>journal entries</em> for transactions to or from that <em><a href="#accounts">account</a></em>.</p>
  </li>
  <li>
    <p>A <em>governing steward</em> of a <em><a href="#currencies">currency</a></em> can request a list of all <em>journal entries</em> for transactions in that <em><a href="#currencies">currency</a></em>.</p>
  </li>
  <li>
    <p>Any <em>governing steward</em> of a <em><a href="#currencies">currency</a></em> has the ability to void a <em><a href="#journals">journal</a></em> entry by posting a <em>reversing journal entry</em> on behalf of both parties.</p>
  </li>
</ul>

<br />

<hr />

<table border="0" cellpadding="5" cellspacing="2" width="100%">
  <tr align="left" valign="top">
    <td rowspan="3" class="blank" valign="bottom">
      <em>names</em> are reserved within a <em>parent namespace</em> for the four categories below:
    </td>
    <td class="col-label" colspan="4" align="center">
      class of <em><a href="#stewards">steward</a></em> (as recognized within a particular <em><a href="#namespaces">namespace</a></em>)
    </td>
        <!-- -->
        <!-- -->
        <!-- -->
  </tr>
  <tr valign="top" align="center">
    <!-- -->
    <td class="col-label">
      governing steward
    </td>
    <td class="col-label">
      permitted user of space
    </td>
    <td class="col-label">
      part user
    </td>
    <td class="col-label">
      audit user
    </td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td class="row-notes">
      A <em><a href="#stewards">steward</a></em> with governance privileges on this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td class="row-notes">
      A <em><a href="#stewards">steward</a></em> with normal access rights granted conditionally by a <em>governance steward</em> of this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td class="row-notes">
      A <em><a href="#stewards">steward</a></em> with restricted access rights granted conditionally by a <em>governance steward</em> of this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td class="row-notes">
      A <em><a href="#stewards">steward</a></em> with monitoring/audit privileges granted conditionally by a <em>governance steward</em> of this <em><a href="#namespaces">namespace</a></em>.
    </td>
  </tr>
  <!-- namespaces -->
  <tr align="left" valign="top">
    <td width="8%" class="row-label" rowspan="4">
      namespaces
    </td>
    <td width="23%">
      Set this <em><a href="#namespaces">namespace</a></em> as <u>public</u>/<u>private</u>
    </td>
    <td width="23%">
      Create, own and govern <em><a href="#namespaces">namespaces</a></em> within this <em><a href="#namespaces">namespace</a></em> if authorized by a <em>governing steward</em>.
    </td>
    <td width="23%"></td>
    <td width="23%"></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>
      Enable/disable transactions in this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>
      Admit/deny applications by other <em><a href="#stewards">stewards</a></em> to create new <em><a href="#namespaces">namespaces</a></em> within this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>
      Enable, disable or delete <em><a href="#stewards">stewards</a></em> in this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <!-- currencies -->
  <tr align="left" valign="top">
    <td class="row-label" rowspan="4">
      currencies
    </td>
    <td>
      Set <em><a href="#currencies">currencies</a></em> within this <em><a href="#namespaces">namespace</a></em> as <u>public</u>/<u>private</u>.
    </td>
    <td>
      Create, own and govern <em><a href="#currencies">currencies</a></em> within this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>
      Enable/disable transactions using this <em><a href="#currencies">currency</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>
      Admit/deny applications by other <em><a href="#stewards">stewards</a></em> to create <em><a href="#currencies">currencies</a></em> within this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <tr align="left" valign="top">
    <!-- -->
    <td>Enable, suspend or delete <em><a href="#users">users</a></em> of <em><a href="#currencies">currencies</a></em> <em><a href="#namespaces">namespace</a></em>.</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  <!-- accounts -->
  <tr align="left" valign="top">
    <td class="row-label">
      accounts
    </td>
    <td>
      Admit/deny applications by other <em><a href="#stewards">stewards</a></em> to create <em><a href="#accounts">accounts</a></em> within this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td>
      Create, own and govern <em><a href="#accounts">accounts</a></em> within this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td>
      Read <em>specified account</em> in this <em><a href="#namespaces">namespace</a></em>.<br />
      Write to <em>specified account</em> in this <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td>
      Read <em>specified account</em> in this <em><a href="#namespaces">namespace</a></em>.
    </td>
  </tr>
  <!-- -->
  <tr align="left" valign="top">
    <td class="row-label">
      (name:currency) pairs
    </td>
    <td>
      Enable, suspend or delete <em><a href="#users">users</a></em> of <em><a href="#currencies">currencies</a></em> <em><a href="#namespaces">namespace</a></em>.
    </td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
<table>

<p>
  <strong>More on terminology</strong>
</p>

<p>
  The following terms are used below:
  <ul>
    <li>
      <p>
        The term <em>named object</em> below refers to any <em><a href="#namespaces">namespace</a></em>, <em><a href="#users">user</a></em>, <em><a href="#currencies">currency</a></em> or <em><a href="#accounts">account</a></em>.
      </p>
    </li>
    <li>
      <p>
        The term <em>parent</em> refers to the <em><a href="#namespaces">namespace</a></em> in which any <em>named object</em> exists.
      </p>
    </li>
    <li>
      <p>
        The term <em>child namespace</em> refers and a <em><a href="#namespaces">namespace</a></em> contained within another (the <em>parent namespace</em>).
      </p>
    </li>
    <li>
      <p>
        The term <em>grandparent parent</em> refers to the <em><a href="#namespaces">namespace</a></em> in which the <em>parent</em> of any <em>named object</em> exists.
      </p>
    </li>
    <li>
      <p>
        The term <em>ancestor</em> refers to any level of nesting from <em>parent</em> upwards.
      </p>
    </li>
    <li>
      <p>
        The term <em>descendant</em> refers to any level of nesting from <em>child</em> downwards.
      </p>
    </li>
  </ul>
</p>

<p>
  <strong>Configuration options</strong>
</p>

<p>
  The following options are configured at the time of the initial setup according to policy:
  <ul>
    <li>
      <p>
        Allow a <em><a href="#stewards">steward</a></em> of a <em><a href="#namespaces">namespace</a></em> at any <em>ancestor level</em> than parent to move any <em>named object</em>.</p><p>Disabled by default.
      </p>
    </li>
    <li>
      <p>
        Allow a <em><a href="#stewards">steward</a></em> of a <em><a href="#namespaces">namespace</a></em> at any <em>ancestor level</em> greater than parent to suspend or delete or (where enabled) move any named object.</p><p>Disabled by default.
      </p>
    </li>
  </ul>
</p>

<p style="clear:both"></p>

<p>
  <strong>relationships between named objects</strong>
</p>

<img src="img/nesting_3_levels_4g.png" class="align-left-middle" width="1050" />

<p style="clear:both"></p>

<p>
  <strong>recursive nesting of namespaces</strong>
</p>

<p>
  The following diagram illustrates the recursive <em><a href="#namespaces">namespace</a></em> structure.
</p>

<img src="img/nesting_4a.png" class="align-left-middle" width="600" />

<p>
  Here the <em><a href="#namespaces">namespaces</a></em> are labelled (untypically) in way convenient for identifying the depth of nesting from a <em>root namespace</em>.
</p>

<p>
  At the top is a set of <em>root namspaces</em> (labelled "a1", "a2" ...).
</p>

<p>
  Nested within these <em><a href="#namespaces">namespaces</a></em> are more <em><a href="#namespaces">namespaces</a></em> (labelled "b1.a1", "b2.a1", ... , "b3.a3", ...).
</p>

<p>
  And so on.
</p>

<p>
  This can be represented more compactly as a tree ...
</p>

<img src="img/nesting_4a_as_tree.png" class="align-left-middle" width="400" />

<p style="clear:both"></p>

<p>
  ... making it easier to visualize the recursive nesting of <em>registry namespaces</em>.
</p>

<img src="img/nesting_trees_1.png" class="align-left-middle" width="600" />

<p>
  The coloured regions represent <em>registry namespaces</em>, which are equivalent to installations (not necessary implemented using the same technology, the only requirement being that they all conform to this very inclusive specification).
</p>

<p>
  The recursively-nested structure mirrors that of the <a href="https://vsmg.lrc.org.uk">VSM</a>. This is a natural design choice given that the REA system embodied is intended to support the <u>viability</u> of human-supporting systems.
</p>

<p>
  <u>Note</u>: This approach to federation (across possibly very different implementations) requires little if any special provision. The mapping of a <a href="#primary_identity">primary user identity</a> in one <a href="#registry">registry</a> to a <a href="#secondary_identity">secondary user identy</a> can be achieved by extending the API (possibly with a single additional endpoint) to enable the mapping data to be transferred from one instance to another. Oauth2 may suffice for authentication across instances, although additional levels of security may be embodied in a simple supplementary protocol.
</p>

<p>
  However, within the scope of a particular <a href="#registry_namespace">registry namespace</a> (which is equivalent to a specific instance/installation), some of the many metasystemic tools can be integrated in a way that federated/clustered sets will not.
</p>

<p style="clear:both"></p>

<p style="clear:both"></p>

<p style="clear:both"></p>


<hr />

<h3>notes</h3>

<ol>

  <li>
    <h4>Implementation</h4>

    <p>
      At the time of the most recent update (see date below), the <a href="">original Swagger 2.0 API definition</a> is being updated and extended to create an OpenAPI 3.0 API definition. That will then be used to create a new set of consistent client and server stubs.
    </p>

    <p>

    </p>
  </li>

  <li>
    <h4>Collision-Resistant Names</h4>

    <p>From <a href="https://tools.ietf.org/html/rfc7519">https://tools.ietf.org/html/rfc7519</a>:

    <p>
      A name in a namespace that enables names to be allocated in a manner such that they are highly unlikely to collide with other names.  Examples of collision-resistant namespaces include: Domain Names, Object Identifiers (OIDs) as defined in the ITU-T X.660 and X.670 Recommendation series, and Universally Unique IDentifiers (UUIDs) [RFC4122].  When using an administratively delegated namespace, the definer of a name needs to take reasonable precautions to ensure they are in control of the portion of the namespace they use to define the name.
    </p>
  </li>

</ol>

<hr />

<p class="footnote">Version 2.0.5 [<a href="https://openmoney.github.io/specification">Previous numbered version</a>]</p>

<p class="footnote">
  This document has been gradually expanded (in various stages between 2020-06-28 and 2020-08-14 by <a href="https://github.com/jethro-swan/">John Waters</a>) from <a href="https://paper.dropbox.com/doc/openmoney-specifications--A2ueQsb5n1iIn0oDC6yCjCFjAg-ZCwb9XOtbLSwZxrlnb5tR">the earlier specification</a> (written by Dominique Legault and Michael Linton) in order to incorporate additional notes, annotations, etc.
</p>

<hr />

<p>
  A minimal <a href="https://github.com/openmoney/current-implementation/">testing/demonstration implementation</a> to illustrate and explore core principles was written by <a href="https://github.com/deefactorial/">Dominique Legault</a>, who also wrote the <a href="https://paper.dropbox.com/doc/openmoney-specifications--A2ueQsb5n1iIn0oDC6yCjCFjAg-ZCwb9XOtbLSwZxrlnb5tR">original draft</a> of this specification in collaboration with Michael Linton.
</p>

<br />

<hr />

<p class="footnote">
  [The <a href="https://github.com/openmoney/specification/">source</a> for this page.]
</p>

</body>

</html>
